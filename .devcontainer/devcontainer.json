{
    "name": "Distroless Builder Environment",
    "image": "mcr.microsoft.com/devcontainers/base:bookworm",
    "mounts": [
        "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
    ],
    "features": {
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest",
            "moby": true
        },
        "ghcr.io/devcontainers-contrib/features/hadolint:1": {}
    },
    // Modified this line to also install 'just'
    "onCreateCommand": "apt-get update && export DEBIAN_FRONTEND=noninteractive && apt-get -y install --no-install-recommends wget apt-transport-https ca-certificates gnupg just && wget -qO - https://aquasecurity.github.io/trivy-repo/deb/public.key | gpg --dearmor | tee /usr/share/keyrings/trivy.gpg > /dev/null && echo 'deb [signed-by=/usr/share/keyrings/trivy.gpg] https://aquasecurity.github.io/trivy-repo/deb bookworm main' | tee -a /etc/apt/sources.list.d/trivy.list && apt-get update && apt-get -y install --no-install-recommends trivy",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-azuretools.vscode-docker",
                "hadolint.hadolint",
                "redhat.vscode-yaml",
                "timonwong.shellcheck",
                "skellock.just" // Optional: Added the extension for 'just' syntax highlighting
            ]
        }
    },
    "postCreateCommand": "echo 'Welcome! Docker, Hadolint, Trivy, and Just are installed.'",
    "remoteUser": "vscode"
}